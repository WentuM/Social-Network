const connect = () => {
    const Stomp = require("stompjs");
    var SockJS = require("sockjs-client");
    SockJS = new SockJS("http://localhost:8080/ws");
    stompClient = Stomp.over(SockJS);
    stompClient.connect({}, onConnected, onError);
};

const onConnected = () => {
    console.log("connected");

    stompClient.subscribe(
        "/user/" + currentUser.id + "/queue/messages",
        onMessageReceived
    );
};

const sendMessage = (msg) => {
    if (msg.trim() !== "") {
        const message = {
            senderId: currentUser.id,
            recipientId: activeContact.id,
            senderName: currentUser.name,
            recipientName: activeContact.name,
            content: msg,
            timestamp: new Date(),
        };

        stompClient.send("/app/chat", {}, JSON.stringify(message));
    }
};